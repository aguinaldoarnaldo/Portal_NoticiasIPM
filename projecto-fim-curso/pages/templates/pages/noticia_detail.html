{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ noticia.titulo }} | IPM NEWS</title>
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <header class="main-header">
        <div class="header-top">
            <div class="logo">
                <img src="{% static 'images/logo_ipm2.png' %}" alt="IPM Logo" onerror="this.src='https://via.placeholder.com/50?text=IPM'">
                <span>IPM NEWS</span>
            </div>
            <div class="social-icons">
                <a href="#"><i class="fab fa-facebook-f"></i></a>
                <a href="#"><i class="fab fa-twitter"></i></a>
                <a href="#"><i class="fab fa-instagram"></i></a>
            </div>
        </div>
        <nav class="main-nav">
            <ul>
                <li><a href="{% url 'pages:index' %}">Início</a></li>
                <li><a href="{% url 'pages:notice' %}">Notícias</a></li>
                <li><a href="{% url 'pages:category_news' 'Esportes' %}">Esportes</a></li>
            </ul>
        </nav>
    </header>

    <main class="container" style="margin-top: 4rem; max-width: 900px;">
        <article class="news-detail">
            <header class="detail-header">
                <span class="category-badge">{{ noticia.categoria.categoria }}</span>
                <h1 style="font-size: 3rem; margin: 1.5rem 0; line-height: 1.2;">{{ noticia.titulo }}</h1>
                {% if noticia.subtitulo %}
                <p class="subtitle" style="font-size: 1.25rem; color: var(--text-muted); margin-bottom: 2rem;">{{ noticia.subtitulo }}</p>
                {% endif %}
                <div class="meta" style="display: flex; gap: 2rem; color: var(--text-muted); padding-bottom: 2rem; border-bottom: 1px solid var(--glass-border); margin-bottom: 2rem;">
                    <span><i class="fas fa-user-edit"></i> {{ noticia.autor }}</span>
                    <span><i class="fas fa-calendar-day"></i> {{ noticia.publicado_em|date:"d M Y" }}</span>
                </div>
            </header>

            {% if noticia.imagem %}
            <div class="featured-image" style="border-radius: 2rem; overflow: hidden; margin-bottom: 3rem; max-width: 60%; margin-left: auto; margin-right: auto; box-shadow: var(--shadow-lg);">
                <img src="{{ noticia.imagem.url }}" alt="{{ noticia.titulo }}" style="width: 100%; height: auto; display: block;">
            </div>
            {% endif %}

            <div class="content" style="font-size: 1.15rem; line-height: 1.8; color: #e2e8f0;">
                {{ noticia.conteudo|linebreaks }}
            </div>
        </article>

        <div style="margin: 4rem 0; padding-top: 2rem; border-top: 1px solid var(--glass-border);">
            <h2 class="section-title"><i class="fas fa-star"></i> OUTROS DESTAQUES</h2>
            <div class="highlight-cards" style="grid-template-columns: repeat(auto-fill, minmax(250px, 1fr)); margin-top: 2rem;">
                {% for destaque in destaques %}
                <article class="card">
                    <div class="card-img-wrapper" style="height: 180px;">
                        <img src="{% if destaque.imagem %}{{ destaque.imagem.url }}{% else %}{% static 'images/card-fallback.jpg' %}{% endif %}" alt="{{ destaque.titulo }}" onerror="this.src='https://via.placeholder.com/400x300?text=IPM+News'">
                        <span class="category-badge">{{ destaque.categoria.categoria }}</span>
                    </div>
                    <div class="card-content">
                        <h3 style="font-size: 1.1rem;"><a href="{% url 'pages:noticia_detail' destaque.id %}">{{ destaque.titulo }}</a></h3>
                        <div class="meta">
                            <span style="font-size: 0.75rem;"><i class="fas fa-calendar-alt"></i> {{ destaque.publicado_em|date:"d M Y" }}</span>
                        </div>
                    </div>
                </article>
                {% endfor %}
            </div>
        </div>

        <div style="margin: 4rem 0; padding-top: 2rem; border-top: 1px solid var(--glass-border);">
            <a href="{% url 'pages:notice' %}" class="btn-primary" style="display: inline-flex; align-items: center; gap: 0.5rem;">
                <i class="fas fa-arrow-left"></i> Voltar para Notícias
            </a>
        </div>
    </main>

    <footer class="main-footer">
        <div class="container">
            <div class="footer-bottom">
                <p>&copy; 2025 Jornal IPM. Design Premium.</p>
            </div>
        </div>
    </footer>
</body>
</html>
